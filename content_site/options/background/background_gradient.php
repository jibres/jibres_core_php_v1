<?php
namespace content_site\options\background;


class background_gradient
{

	public static function sample()
	{
		return
		[

			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'pink-500', 	'background_gradient_via' =>  'red-500', 	'background_gradient_to' =>  'yellow-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'green-300', 	'background_gradient_via' =>  'blue-500', 	'background_gradient_to' =>  'purple-600',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'pink-300', 	'background_gradient_via' =>  'purple-300', 'background_gradient_to' =>  'indigo-400',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'gray-700', 	'background_gradient_via' =>  'gray-900', 	'background_gradient_to' =>  'black',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'indigo-200', 'background_gradient_via' =>  'red-200', 	'background_gradient_to' =>  'yellow-100',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'yellow-100', 'background_gradient_via' =>  'yellow-300', 'background_gradient_to' =>  'yellow-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'yellow-200', 'background_gradient_via' =>  'green-200', 	'background_gradient_to' =>  'green-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'gray-200', 	'background_gradient_via' =>  'gray-400', 	'background_gradient_to' =>  'gray-600',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'red-200', 	'background_gradient_via' =>  'red-300', 	'background_gradient_to' =>  'yellow-200',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'green-200', 	'background_gradient_via' =>  'green-300', 	'background_gradient_to' =>  'blue-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'yellow-200', 'background_gradient_via' =>  'yellow-400', 'background_gradient_to' =>  'yellow-700',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'green-200', 	'background_gradient_via' =>  'green-400', 	'background_gradient_to' =>  'purple-700',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'red-200', 	'background_gradient_to'  =>  'red-600',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'green-300', 	'background_gradient_via' =>  'yellow-300', 'background_gradient_to' =>  'pink-300',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'indigo-300', 'background_gradient_to'  =>  'purple-400',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'green-200', 	'background_gradient_to'  =>  'green-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'purple-200', 'background_gradient_via' =>  'purple-400', 'background_gradient_to' =>  'purple-800',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'gray-400', 	'background_gradient_via' =>  'gray-600', 	'background_gradient_to' =>  'blue-800',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'blue-100', 	'background_gradient_via' =>  'blue-300', 	'background_gradient_to' =>  'blue-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'green-200', 	'background_gradient_via' =>  'green-400', 	'background_gradient_to' =>  'green-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'purple-400', 'background_gradient_to'  =>  'yellow-400',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'red-400', 	'background_gradient_via' =>  'gray-300', 	'background_gradient_to' =>  'blue-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'red-800', 	'background_gradient_via' =>  'yellow-600', 'background_gradient_to' =>  'yellow-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'yellow-200', 'background_gradient_to'  =>  'yellow-500',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'blue-300', 	'background_gradient_via' =>  'green-200', 'background_gradient_to' =>  'yellow-300',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'yellow-200', 'background_gradient_via' =>  'green-200', 'background_gradient_to' =>  'green-300',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'yellow-200', 'background_gradient_via' =>  'yellow-300', 'background_gradient_to' =>  'yellow-400',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'blue-700', 	'background_gradient_via' =>  'blue-800', 	'background_gradient_to' =>  'gray-900',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'green-300', 	'background_gradient_to'  =>  'purple-400',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'yellow-200', 'background_gradient_via' =>  'pink-200', 	'background_gradient_to' =>  'pink-400',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'pink-400', 	'background_gradient_to'  =>  'pink-600',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'yellow-600', 'background_gradient_to'  =>  'red-600',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'green-500', 	'background_gradient_to'  =>  'green-700',],
			['background_gradient_type' => 'gradient-to-r', 'background_gradient_from' => 'red-500', 	'background_gradient_to'  =>  'green-500',],

		];

		return $sample;
	}

	private static function enum()
	{
		$enum   = \content_site\color\color::list();
		return $enum;
	}

	public static function template_or_custom($_section_detail)
	{
		$background_gradient_type = a($_section_detail, 'preview', 'background', 'background_gradient_type');
		$background_gradient_from = a($_section_detail, 'preview', 'background', 'background_gradient_from');
		$background_gradient_via  = a($_section_detail, 'preview', 'background', 'background_gradient_via');
		$background_gradient_to   = a($_section_detail, 'preview', 'background', 'background_gradient_to');

		foreach(self::sample() as $gradient)
		{
			if(
				a($gradient, 'background_gradient_type') === $background_gradient_type &&
				a($gradient, 'background_gradient_from') === $background_gradient_from &&
				a($gradient, 'background_gradient_to') === $background_gradient_to &&
				a($gradient, 'background_gradient_via') === $background_gradient_via
			  )
			{
				return 'template';
			}
		}

		return 'custom';
	}


	public static function validator($_data)
	{
		$condition =
		[
			'background_gradient_type' => ['enum' => array_column(background_gradient_type::enum(), 'key')],
			'background_gradient_from' => ['enum' => array_column(background_gradient_from::enum(), 'color')],
			'background_gradient_via'  => ['enum' => array_column(background_gradient_via::enum(), 'color')],
			'background_gradient_to'   => ['enum' => array_column(background_gradient_to::enum(), 'color')],
		];

		$args =
		[
			'background_gradient_type' => a($_data, 'background_gradient_type'),
			'background_gradient_from' => a($_data, 'background_gradient_from'),
			'background_gradient_via'  => a($_data, 'background_gradient_via'),
			'background_gradient_to'   => a($_data, 'background_gradient_to'),
		];

		$require = [];

		$meta =
		[
			'field_title' =>
			[
				'background_gradient_type' => T_("Background Gradient type"),
				'background_gradient_from' => T_("Background Gradient from"),
				'background_gradient_via'  => T_("Background Gradient via"),
				'background_gradient_to'   => T_("Background Gradient to"),

			],
		];

		$data = \dash\cleanse::input($args, $condition, $require, $meta);

		return $data;
	}


	public static function default()
	{
		return null;
	}



	public static function admin_html()
	{
		$html  = '';
		$html .= '<div class="text-center mt-10">';
	    {
	    	foreach (self::sample() as $gradient)
	    	{
	    		$html .= '<div class="grid auto-cols-auto">';
	    		{
					$myColor   = [];
					$myColor[] = 'bg-'. a($gradient, 'background_gradient_type');

	    			if(a($gradient, 'background_gradient_from'))
	    			{
	    				$myColor[] = 'from-'. $gradient['background_gradient_from'];
	    			}

	    			if(a($gradient, 'background_gradient_via'))
	    			{
	    				$myColor[] = 'via-'. $gradient['background_gradient_via'];
	    			}

	    			if(a($gradient, 'background_gradient_to'))
	    			{
	    				$myColor[] = 'to-'. $gradient['background_gradient_to'];
	    			}

					$myColor = implode(' ', $myColor);

					$json    = json_encode(array_merge($gradient, ['multioption' => 'multi', 'opt_background_gradient' => true]));
					$html    .= "<a data-ajaxify data-data='$json' title='$myColor' class='h-12 $myColor'></a>";
	    		}
	    		$html .= '</div>';
	    	}
	    }
	    $html .= '</div>';

	    return $html;
	}





}
?>

