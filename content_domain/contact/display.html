{%extends display.jibresControlLayout%}


{%block pageContent%}

{%if dataTable%}
 {%if isFiltered%}

  {{block('htmlSearchBox')}}
  {{block('htmlTable')}}

 {%else%}

  {{block('htmlSearchBox')}}
  {{block('htmlTable')}}

 {%endif%}
{%else%}

 {%if isFiltered%}

  {{block('htmlSearchBox')}}
  {{block('htmlFilter')}}

 {%else%}

  {{block('htmlStartAddNew')}}

 {%endif%}
{%endif%}

{%endblock%}




{%block htmlSearchBox%}
<div class="fs12">
	<form method="get" autocomplete="off" class="mB20" action="{{url.this}}">
		<div class="input search{%if requestGET.q%} apply{%endif%}">
			<input type="text" name="q" placeholder='{%trans "Search"%}' value="{{requestGET.q}}">
			<button class="btn addon success">{%trans "Search"%}</button>
		</div>
	</form>
</div>
{%endblock%}


{%block htmlTable%}
<div class="tblBox">
	<table class="tbl1 v4">
		<thead>
			<tr>
				<th class="collapsing">#</th>
				<th>{%trans "Title"%}</th>
				<th>{%trans "NIC ID"%}</th>
				<th>{%trans "Permission"%}</th>
				<th class="s0">{%trans "Date created"%}</th>

				<th class="collapsing">{%trans "Action"%}</th>
			</tr>
		</thead>
		<tbody>
			{%for key, value in dataTable%}
			<tr {%if value.isdefault%} class="positive" {%endif%}>
				<td class="collapsing">{{(key + 1) | fitNumber}}</td>
				<td>{{value.title | slice(0, 50)}}</td>
				<td><code>{{value.nic_id}}</code> {%if value.isdefault%} <span class="badge success">{%trans "Default"%}</span> {%endif%}</td>
				<td>

					<span class="badge light">{%trans "Holder" %} {%if value.holder%}<i class="sf-check fc-green"></i> {%else%} <i class="sf-times fc-red"></i> {%endif%}</span>
					<span class="badge light">{%trans "Admin" %} {%if value.admin%}<i class="sf-check fc-green"></i> {%else%} <i class="sf-times fc-red"></i> {%endif%}</span>
					<span class="badge light">{%trans "Technical" %} {%if value.tech%}<i class="sf-check fc-green"></i> {%else%} <i class="sf-times fc-red"></i> {%endif%}</span>
					<span class="badge light">{%trans "billing" %} {%if value.bill%}<i class="sf-check fc-green"></i> {%else%} <i class="sf-times fc-red"></i> {%endif%}</span>
				</td>
				<td class="s0">
					{{value.datecreated |dt}}
					{%if value.datemodified%}<br><span class="fc-mute fs09">{%trans "Modified"%}{{value.datemodified |dt('human','year')}}</span>{%endif%}
				</td>
				<td class="collapsing"><a href="{{url.this}}/edit?id={{value.id | coding('encode')}}" class="btn info2">{%trans "Edit"%}</a></td>
			</tr>
			{%endfor%}
		</tbody>
	</table>
</div>
{%include display.pagination%}
{%endblock%}




{%block htmlFilter%}
<p class="f fs14 msg warn2">
  <span class="c">{{filterBox | raw}}</span>
  <a class="cauto" href="{{url.that}}">{%trans "Clear filters"%}</a>
</p>
{%endblock%}


{%block htmlFilterNoResult%}
<p class="f fs14 msg warn2">
  <span class="c s12">{%trans "Result not found!"%} {%trans "Search with new keywords."%} </span>
  <a class="cauto" href="{{url.that}}">{%trans "Clear filters"%}</a>
</p>
{%endblock%}



{%block htmlStartAddNew%}

<div class="fs14 msg info2 pTB20">
  <p>{%trans "Hi!"%}</p>
  <p><a href="{{url.that}}/add">{%trans "Try to start with add new contact!"%}</a></p>

</div>


{%endblock%}

