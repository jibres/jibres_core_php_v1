{%extends display.admin%}



{%block pageContent%}

<div class="f justify-center">
  <div class="x6 c5 s12 pRa10">
    <dvi class="cbox">
      <form method="post" autocomplete="off">
          {{block('iParent')}}
          {{block('catTitle')}}
          {{block('idesc')}}
          {{block('ifile')}}
          {{block('iSEO')}}


          {%if not dataRow.count and not dataRow.have_child%}
            <hr>
            <p>{%trans "No product found by this category."%}
              {%trans "Your can remove it"%} <span data-confirm data-data='{"delete" : "delete"}' class="fc-red" >{%trans "Remove category"%}</span>
            </p>
          {%endif%}
          <div class="txtRa">
            <button class="btn success mT20" type="submit">{%trans "Save"%}</button>
          </div>

      </form>
    </dvi>
  </div>
</div>
{%endblock%}



{%block iSEO%}


  <header data-kerkere='.seoData' ><h2>{%trans "Customize for SEO"%}</h2></header>
  <div class="pad">

    <div class="seoPreview">
      <a target="_blank" href="{{url.kingdom}}/category/{{dataRow.full_slug}}">
        <cite><span>{{url.kingdom}}/category/</span>{{dataRow.full_slug}}</cite>
      </a>
      <div class="f">
        <div class="c s12 pLa10">
          <h3>{%if dataRow.seotitle%}{{dataRow.seotitle}}{%else%}{{dataRow.title}}{%endif%} | {{site.title}}</h3>
          <p class="desc">{{dataRow.seodesc}}</p>
        </div>
        <div class="cauto os s12">
          <img src="{{url.siftal}}/images/logo/google.png" alt='{%trans "Google"%}'>
        </div>
      </div>
    </div>

    <div class="seoData" data-kerkere-content='hide'>
        <hr>
        <div>
          <label for='seoTitle'>{%trans "SEO Title"%} <small>{%trans "Recommended being more than 40 character."%}</small></label>
          <div class="input">
            <input type="text" name="seotitle" id="seoTitle" placeholder='{%if not dataRow.seotitle%}{{dataRow.title}}{%endif%}' value="{{dataRow.seotitle}}"  maxlength='200' minlength="1" pattern=".{1,200}">
            <label class="addon"> | {{site.title}}</label>
          </div>
        </div>


        <div>
         <label for="icatslug">{%trans "Slug"%} <small>{%trans "End part of your category url."%}</small></label>
          <div class="input ltr">
            <input type="text" class="ltr" name="slug" id="icatslug" placeholder='{%trans "Category slug"%}' value="{{dataRow.slug}}" maxlength='50' minlength="1">
          </div>
        </div>

        <div>
          <label for='seoDesc'>{%trans "SEO Description"%} <small>{%trans "If leave it empty we are generate it automatically"%}</small></label>
          <textarea class="txt" name="seodesc" id="seoDesc" maxlength='300' rows='3' placeholder='{%trans "Excerpt used for social media and search engines"%}'>{{dataRow.seodesc}}</textarea>
        </div>
    </div>

  </div>

{%endblock%}


{%block iParent%}
{%if dataRow.parent1 or parentList%}
<div class="mB10">
  <label for='parent'>{%trans "Parent"%} {%if dataRow.have_child%} <small class="fc-mute">{%trans "This category have some child and you can not change parent of it"%}</small> {%endif%}</label>
  <select name="parent" id="parent" class="select22" data-placeholder='{%trans "Select category parent"%}' {%if dataRow.have_child%} disabled {%endif%}>
    <option></option>
    {%if dataRow.parent1%}
      <option value="0">{%trans "Without category"%}</option>
    {%endif%}
    {%for key, value in parentList%}
        <option value="{{value.id}}" {%if value.id == dataRow.last_parent %} selected{%endif%}>{{value.full_title}}</option>
    {%endfor%}
  </select>
</div>
{%endif%}
{%endblock%}




{%block idesc%}
<label for="desc">{%trans "Description"%}</label>
<textarea  class="txt mB10" id='desc' name="desc" placeholder='{%trans "Description"%}' maxlength='500' rows="5">{{dataRow.desc}}</textarea>
{%endblock%}



{%block iseodesc%}
<label for="seidesc">{%trans "SEO Description"%}</label>
<textarea  class="txt mB10" id='seidesc' name="seidesc" placeholder='{%trans "Description"%}' maxlength='500' rows="5">{{dataRow.seidesc}}</textarea>
{%endblock%}




{%block catSeoTitle%}
<label for="icatseoname">{%trans "SEO Title"%}</label>
<div class="input">
  <input type="text" name="seotitle" id="icatseoname" placeholder='{%trans "Category name"%}' value="{{dataRow.seotitle}}"  maxlength='50' minlength="1">
</div>
{%endblock%}



{%block ifile%}
{%if dataRow.file%}
   <div class="mediaBox mB20">

{% set myExt = dataRow.file[(dataRow.file | length)-3:3] %}

 {%if myExt == 'png' or myExt == 'jpg' or myExt == 'jpeg' or myExt == 'gif'%}
    <img src="{{dataRow.file}}" alt="{{myTitle.title}}">
 {%endif%}
   </div>
   <dir data-confirm data-data='{"deletefile" : 1}' class="btn xs danger floatL">{%trans "Delete file"%}</dir>
{%endif%}


<label for="file1" class="block">{%trans "Category image"%}</label>
<div class="input" title='{%trans "Max 1Mb"%}'>
 <input type="file" name="file" id="file1" data-max="1000">
 </label>
</div>

{%endblock%}




{%block catTitle%}
<label for="icatname">{%trans "Title"%}</label>
<div class="input">
  <input type="text" name="title" id="icatname" placeholder='{%trans "Category name"%}' value="{{dataRow.title}}" autofocus maxlength='50' minlength="1" required>
</div>
{%endblock%}


