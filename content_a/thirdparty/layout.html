{%extends display.admin%}

{%block pageContent%}
{%if url.child != "add"%}
{{block ("pageSteps")}}
{%endif%}
{%if url.child == "add"%}
{%block dataAdd%}{%endblock%}

{%else%}

<div class="f">
 <div class="cauto s12 pA10">
  {%if supplierMode%}
    {{block("psidebarSupplier")}}
  {%else%}
    {{block("psidebar")}}
  {%endif%}
 </div>
 <div class="c s12 pA10">
{%block data%}{%endblock%}
 </div>
</div>
{%endif%}
{%endblock%}


{%block iType%}
<div class="mT10">
  <label for="type">{%trans "Type of thirdparty"%} <small class="fc-red">* {%trans "Require"%}</small></label>
  <div class="f">
   <div class="radio1">
    <input type="radio" id="r-customer" name="type" value="customer" {%if thirdparty.type == 'customer' or not thirdparty.type%}checked{%endif%}>
    <label for="r-customer">{%trans "Customer"%}</label>
   </div>

   <div class="radio1">
    <input type="radio" id="r-staff" name="type" value="staff" {%if thirdparty.type == 'staff' %}checked{%endif%}>
    <label for="r-staff">{%trans "Staff"%}</label>
   </div>

   <div class="radio1">
    <input type="radio" id="r-supplier" name="type" value="supplier" {%if thirdparty.type == 'supplier' %}checked{%endif%}>
    <label for="r-supplier">{%trans "Supplier"%}</label>
   </div>
  </div>
</div>
{%endblock%}

{%block psidebarSupplier%}
<div class="cbox normal">

 <div class="vcard">
  <a href='{{url.this}}/avatar?id={{requestGET.id}}'>
  {%if thirdparty.avatar%}
    <img src="{{thirdparty.avatar}}">
  {%else%}
    <img src="{{url.site}}/static/siftal/images/useful/user1.png">
  {%endif%}
  </a>
  <div class="content">
    <div class="header"><b>{{thirdparty.displayname}}</b></div>
    <div class="meta"><span>{{thirdparty.visitorname}}</span></div>
    {%if thirdparty.visitormobile%}
    <div class="desc"><i class="sf-mobile fs2"></i>{{thirdparty.visitormobile|fitNumber(false)}}</div>
    {%endif%}
  </div>

  <!-- <div class="footer">{{thirdparty.nationalcode|fitNumber(false)}}</div> -->

 </div>

 <a class="btn block mTB10" href='{{url.this}}/general?id={{requestGET.id}}'>{%trans "General Detail"%}</a>
</div>
{%endblock%}


{%block psidebar%}
<div class="cbox normal">

 <div class="vcard">
  <a href='{{url.this}}/avatar?id={{requestGET.id}}'>
  {%if thirdparty.avatar%}
    <img src="{{thirdparty.avatar}}">
  {%else%}
    <img src="{{url.site}}/static/siftal/images/useful/user1.png">
  {%endif%}
  </a>
  <div class="content">
    <div class="header">{{thirdparty.firstname}} <b>{{thirdparty.lastname}}</b></div>
    <div class="meta"><span>{{thirdparty.grade_title}}</span></div>
    {%if thirdparty.mobile%}
    <div class="desc"><i class="sf-mobile fs2"></i>{{thirdparty.mobile|fitNumber(false)}}</div>
    {%endif%}
  </div>
  {%if thirdparty.nationalcode%}
  <div class="footer">{{thirdparty.nationalcode|fitNumber(false)}}</div>
  {%endif%}
 </div>

 <a class="btn block mTB10" href='{{url.this}}/general?id={{requestGET.id}}'>{%trans "General Detail"%}</a>
 <!-- <a class="btn block mTB10" href='{{url.this}}/thumb?id={{requestGET.id}}'>{%trans "Document Photo"%}</a> -->
 <a class="btn block mTB10" href='{{url.this}}/contact?id={{requestGET.id}}'>{%trans "Contact information"%}</a>
 <a class="btn block mTB10" href='{{url.this}}/identification?id={{requestGET.id}}'>{%trans "Identification detail"%}</a>
 <a class="btn block mTB10" href='{{url.this}}/address?id={{requestGET.id}}'>{%trans "Location and address"%}</a>
</div>
{%endblock%}



{%block iname%}
<label for="name">{%trans "Name"%} <span class="fc-red">*</span></label>
<div class="input">
  <input type="text" name="name" id="name" placeholder='{%trans "Name"%} *' value="{{thirdparty.firstname}}" maxlength='40' minlength="1" pattern=".{1,40}" title='{%trans "Enter a valid name from 3 to 40 character"%}'>
</div>
{%endblock%}



{%block imobileSearch%}
<label for="mobile">{%trans "Enter mobile"%} <small class="fc-red">* {%trans "Require"%}</small></label>
<select name="mobile" class="ui dropdown search" autofocus id="mobile" data-source='{{url.here}}/thirdparty?list=mobile&q={query}'>
  <option value="" readonly>{%trans "Enter mobile"%} *</option>
</select>
{%endblock%}



{%block inameFree%}
<label for="name">{%trans "Name"%}</label>
<div class="input">
  <input type="text" name="name" id="name" placeholder='{%trans "Name"%}' value="{{thirdparty.firstname}}" maxlength='40' minlength="1" pattern=".{1,40}" title='{%trans "Enter a valid name from 3 to 40 character"%}'>
</div>
{%endblock%}


{%block ifamily%}
<label for="lastName">{%trans "Last name"%}</label>
<div class="input">
  <input type="text" name="lastName" id="lastName" placeholder='{%trans "Last name"%}' value="{{thirdparty.lastname}}" maxlength='60'>
</div>
{%endblock%}


{%block igrade%}
<label for="grade">{%trans "Grade"%}</label>
<select name="grade" id="grade" class="select">
  <option value="" readonly>{%trans "Select thirdparty grade"%}</option>
  {%for key, value in grade_list%}
  <option value="{{key}}" {%if thirdparty.grade == key%} selected {%endif%}>{{value.title}}</option>
  {%endfor%}
</select>
{%endblock%}


{%block imobile%}
<label for="mobile">{%trans "Mobile"%}</label>
<div class="input">
  <input type="text" name="mobile" id="mobile" placeholder='{%trans "Like 09120123456"%}' autofocus value="{{thirdparty.mobile}}" maxlength='30'>
</div>
{%endblock%}


{%block incode%}
<label for="nationalcode">{%trans "National code"%}</label>
<div class="input">
  <input type="number" name="nationalcode" id="nationalcode" placeholder='{%trans "10 digit national code"%}' value="{{thirdparty.nationalcode}}" min=0 max=9999999999>
</div>
{%endblock%}


{%block ifather%}
<label for="father">{%trans "Father name"%}</label>
<div class="input">
  <input type="text" name="father" id="father" placeholder='{%trans "Father name"%}' value="{{thirdparty.father}}" maxlength='50'>
</div>
{%endblock%}


{%block ibirthday%}
<label for="birthday">{%trans "Birthday"%}</label>
<div class="input">
  <input class="datepicker" type="text" name="birthday" id="birthday" placeholder='{{"1369/04/15" | fitNumber(false)}}' value="{{thirdparty.birthday}}" maxlength='20' data-format="YYYY/MM/DD" data-view="year">
</div>
{%endblock%}


{%block igender%}
<div class="mT10">
  <label for="gender">{%trans "Gender"%}</label>
  <select name="gender" class="ui dropdown select">
    <option value="" readonly>{%trans "Please select one itme"%}</option>
    <option value="male" {%if dataRow.gender == 'male' %}selected {%endif%}>{%trans "Male"%}</option>
    <option value="female" {%if dataRow.gender == 'female' %}selected{%endif%}>{%trans "Female"%}</option>
  </select>
</div>
{%endblock%}

{%block igender2%}
<div class="switch1 gender mT15">
 <input type="checkbox" name="gender" id="gender" {%if thirdparty.gender == 'female' %}checked{%endif%}>
 <label for="gender"></label>
 <label for="gender">{%trans "Gender"%}</label>
</div>
{%endblock%}


{%block iclassroom%}
<label for="classroom_id">{%trans "Classroom"%}</label>
<div class="input">
  <select  name="classroom_id" class="select" id="classroom_id">
      <option value="">{%trans "Please select one classroom"%}</option>
    {%for key, value in classroomList%}
      <option value="{{key}}" {%if key == thirdparty.classroom_id%} selected {%endif%}>{{value}}</option>
    {%endfor%}
  </select>
</div>
{%endblock%}


{%block ibirthcity%}
<label for="birthcity">{%trans "Birth city"%}</label>
<div class="input">
  <input type='text' class="autoList" name="birthcity" id="birthcity" placeholder='{%trans "Birth city"%}' value="{{thirdparty.birthplace}}" maxlength='50' data-minchars="1" data-autofirst data-list="{{listCities}}"/>

</div>
{%endblock%}



{%block icountry%}
<label for='country'>{%trans "Country"%}</label>
 <div class="ui fluid search selection dropdown">
      <input type="hidden" name="country" value="{{thirdparty.country}}">
      <i class="dropdown icon"></i>
      <div class="default text">Select Country</div>
      <div class="menu">
    {%for key, value in countryList%}
      <div class="item" data-value="{{key}}">
        <i class="{{value.iso2 | lower }} flag"></i>{%set myCountry = value.name%} {%trans myCountry%}
        <small class="description">{{value.name | capitalize}}</small>
    </div>
    {%endfor%}
  </div>
</div>
{%endblock%}


{%block iprovince%}
<label for='province'>{%trans "Province"%}</label>
<select name="province" class="ui dropdown select search" id="province">
  <option value="" readonly>{%trans "Select province"%}</option>
  {%for key, value in proviceList%}
    <option value="{{key}}" {% if thirdparty.province == key %} selected {%endif%}>{{value}}</option>
  {%endfor%}
</select>
{%endblock%}


{%block icity%}
<label for='city'>{%trans "City"%}</label>
<select name="city" class="ui dropdown select search" id="city">
  <option value="" readonly>{%trans "Select city"%}</option>
  {%for key, value in cityList%}
    <option value="{{key}}" {% if thirdparty.city == key %} selected {%endif%}>{{value}}</option>
  {%endfor%}
</select>
{%endblock%}






{%block izipcode%}
<label for='zipcode'>{%trans "Zip code"%}</label>
<div class="input">
 <input type='number' name='zipcode' id='zipcode' min="0" value="{{thirdparty.zipcode}}"/>
</div>
{%endblock%}


{%block ireligion%}
<label for='religion'>{%trans "Religion"%}</label>
<div class="input">
 <input type='text' class="autoList" name='religion' id='religion' data-minchars="1" data-autofirst data-list="Islam"/>
</div>
{%endblock%}


{%block ibirthplace%}
<label for='birthcity'>{%trans "Birth place"%}</label>
<div class="input">
 <input type='text' class="autoList" name='birthcity' id='birthcity' data-minchars="1" data-autofirst data-list="{{listCities}}" value="{{thirdparty.birthcity}}" />
</div>
{%endblock%}


{%block iissueplace%}
<label for='shfrom'>{%trans "Issue Place"%}</label>
<div class="input">
 <input type='text' class="autoList" name='shfrom' id='shfrom' data-minchars="1" data-autofirst data-list="{{listCities}}" value="{{thirdparty.shfrom}}" />
</div>

{%endblock%}


{%block ipassport%}
<label for='pasportcode'>{%trans "Passport id"%}</label>
<div class="input ltr">
 <input name='pasportcode' id='pasportcode' value="{{thirdparty.pasportcode}}" />

</div>
{%endblock%}


{%block ipassportexpire%}
<label for='pasportdate'>{%trans "Passport expire date"%}</label>
<div class="input ltr">
 <input name='pasportdate' class="datepicker" id='pasportdate' value="{{thirdparty.pasportdate}}" />

</div>
{%endblock%}


{%block iid%}
<label for='id'>{%trans "Id number"%}</label>
<div class="input">
 <input type="tel" name='shcode' id='id' value="{{thirdparty.shcode}}" />
</div>
{%endblock%}


{%block inid%}
<label for='nid'>{%trans "National Id"%}</label>
<div class="input">
 <input type="tel" name='nationalcode' id='nid' value="{{thirdparty.nationalcode}}" />
</div>
{%endblock%}

{%block iaddrress%}
<label for='addrress'>{%trans "Address"%}</label>
<div class="input">
 <input name='address' id='addrress' value="{{thirdparty.address}}" />
</div>
{%endblock%}







{%block iStaffMobile%}
<label for="thirdparty-mobile">{%trans "Mobile of Staff"%}</label>
<div class="input">
  <input type="tel" name="mobile" id="thirdparty-mobile" placeholder='{%trans "Like"%} 0912 012 3456' value="{{thirdparty.mobile}}" maxlength='50'>
</div>
{%endblock%}


{%block iPhone%}
<label for="phone">{%trans "Phone"%}</label>
<div class="input">
  <input type="tel" name="phone" id="phone" placeholder='{%trans "Like"%} 025 3650 5281' value="{{thirdparty.phone}}" maxlength='50'>
</div>
{%endblock%}



{%block iFatherMobile%}
<label for="father-mobile">{%trans "Mobile of father"%}</label>
<div class="input">
  <input type="tel" name="fathermobile" id="father-mobile" placeholder='{%trans "Like"%} 0912 111 2222' value="{{thirdparty.fathermobile}}" maxlength='50'>
</div>
{%endblock%}



{%block iMotherMobile%}
<label for="mother-mobile">{%trans "Mobile of mother"%}</label>
<div class="input">
  <input type="tel" name="mothermobile" id="mother-mobile" placeholder='{%trans "Like"%} 0912 111 2222' value="{{thirdparty.mothermobile}}" maxlength='50'>
</div>
{%endblock%}


{%block iPostcode%}
<label for="postcode">{%trans "Post code"%}</label>
<div class="input">
  <input type="number" name="postcode" id="postcode" placeholder='{%trans "Post code"%}' value="{{thirdparty.postcode}}" maxlength='50'>
</div>
{%endblock%}


{%block iAddress%}
<label for="address">{%trans "Address"%}</label>
<div class="input">
  <input type="text" name="address" id="address" placeholder='{%trans "Address"%}' value="{{thirdparty.address}}" maxlength='500'>
</div>
{%endblock%}


{%block iEmail%}
<label for="email">{%trans "Email"%}</label>
<div class="input">
  <input type="email" name="email" id="email" placeholder='{%trans "Like"%} abc@example.com' value="{{thirdparty.email}}" maxlength='50'>
</div>
{%endblock%}


{%block iAvatar%}
<div class="input preview">
 <input type="file" accept="image/gif, image/jpeg, image/png" name="avatar" id="avatar1" data-preview data-max="500">
 <label for="avatar1" title="Simple Title">
    {%if thirdparty.avatar%}<img src="{{thirdparty.avatar}}">{%endif%}
 </label>
</div>
{%endblock%}


{%block iNationalthumb%}
<div class="input preview">
 <input type="file" accept="image/gif, image/jpeg, image/png" name="nationalthumb" id="nationalthumb" data-preview data-max="500">
 <label for="nationalthumb" title="Simple Title">
    {%if thirdparty.nationalthumb%}<img src="{{thirdparty.nationalthumb}}">{%endif%}
 </label>
</div>
{%endblock%}


{%block iShthumb%}
<div class="input preview">
 <input type="file" accept="image/gif, image/jpeg, image/png" name="shthumb" id="shthumb" data-preview data-max="500">
 <label for="shthumb" title="Simple Title">
    {%if thirdparty.shthumb%}<img src="{{thirdparty.shthumb}}">{%endif%}
 </label>
</div>
{%endblock%}




{%block iadd%}
<button class="btn primary block mT20">{%trans "Add"%}</button>
{%endblock%}

{%block isave%}
<button class="btn primary block mT20">{%trans "Save"%}</button>
{%endblock%}


{%block inamecompany%}



<label for="company">{%trans "Company"%} <span class="fc-red">*</span></label>
<div class="input">
  <input type="text" name="company" id="company" placeholder='{%trans "Company"%}' value="{{thirdparty.displayname}}" autofocus maxlength='40' minlength="1" pattern=".{1,40}" title='{%trans "Enter a valid name from 3 to 40 character"%}'>
</div>
{%endblock%}



{%block inamevisitor%}
<label for="visitorname">{%trans "Name"%} <span class="fc-red">*</span></label>
<div class="input">
  <input type="text" name="visitorname" id="visitorname" placeholder='{%trans "Visitor name"%}' value="{{thirdparty.visitorname}}" maxlength='60'>
</div>
{%endblock%}


{%block imobilevisitor%}
<label for="visitormobile">{%trans "Mobile"%}</label>
<div class="input">
  <input type="text" name="visitormobile" id="visitormobile" placeholder='{%trans "Like 09120123456"%}' value="{{thirdparty.visitormobile}}" maxlength='30'>
</div>
{%endblock%}


{%block icode%}
<label for="code">{%trans "Customer code"%}</label>
<div class="input">
  <input type="number" name="code" id="code" placeholder='{%trans "Customer code"%}' value="{{thirdparty.code}}" min=0 max=9999999999>
</div>
{%endblock%}


{%block iDesc%}
<label for="desc">{%trans "Desctiption"%}</label>
<div class="input">
  <textarea  name="desc" id="desc" placeholder='{%trans "Desctiption"%}' class="txt" rows="4">{{thirdparty.desc}}</textarea>
</div>
{%endblock%}



{%block pageSteps%}
<div class="f">
{%if perm_su()%}
  <div class="c">

    <a class="dcard {%if url.child == 'general' %}active{%endif%}" href='{{url.this}}/general?id={{requestGET.id}}' data-shortkey="49shift">
     <div class="statistic gray">
      <div class="value"><i class="sf-user"></i></div>
      <div class="label">{%trans "Profile"%} <kbd>Shift+1</kbd></div>
     </div>
    </a>

  </div>
  <div class="c">

    <a class="dcard {%if requestGET.type == 'customer'%}active{%endif%}" href='{{url.this}}?type=customer{%if requestGET.q%}&q={{requestGET.q}}{%endif%}' data-shortkey="50shift">
     <div class="statistic teal">
      <div class="value"><i class="sf-folder-1"></i></div>
      <div class="label">{%trans "Factors"%} <kbd>Shift+2</kbd></div>
     </div>
    </a>

  </div>
  {%endif%}
<!--
  <div class="c">

    <a class="dcard {%if requestGET.type == 'staff'%}active{%endif%}" href='{{url.this}}?type=staff{%if requestGET.q%}&q={{requestGET.q}}{%endif%}' data-shortkey="51shift">
     <div class="statistic gray">
      <div class="value"><i class="sf-user-md"></i></div>
      <div class="label">{%trans "Staffs"%} <kbd>Shift+3</kbd></div>
     </div>
    </a>

  </div>

  <div class="c">

    <a class="dcard {%if requestGET.type == 'supplier'%}active{%endif%}" href='{{url.this}}?type=supplier{%if requestGET.q%}&q={{requestGET.q}}{%endif%}' data-shortkey="52shift">
     <div class="statistic orange">
      <div class="value"><i class="sf-network"></i></div>
      <div class="label">{%trans "Suppliers"%} <kbd>Shift+4</kbd></div>
     </div>
    </a>

  </div> -->
</div>
{%endblock%}


