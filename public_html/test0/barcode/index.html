
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Barcode Scanner Reading</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript">
		$(document).ready(function() {
			var pressed = false;
			var chars = [];
			$(window).keypress(function(e) {
				if (e.which >= 48 && e.which <= 57) {
					chars.push(String.fromCharCode(e.which));
				}
				console.log(e.which + ":" + chars.join("|"));
				if (pressed == false) {
					pressed = true; // <- SET THIS BEFORE SETTING THE TIMER
					t=setTimeout(function(){ // = 10) {
						var barcode = chars.join("");
						console.log("Barcode Scanned: " + barcode);
						// assign value to some input (or do whatever you want)
						$("#barcode").val(barcode);
					
					clearTimeout(t); // <- CLEAR TIMER IF IS NOT BARCODE
					chars = [];
					pressed = false;
					},500);
				}
			});
		});

		
		$("#barcode").keypress(function(e){
			if ( e.which === 13 ) {
				console.log("Prevent form submit.");
				e.preventDefault();
			}
		});

    </script>
</head>
<body>
    <input type="text" id="barcode" placeholder="Waiting for barcode scan..." size="40" readonly="readonly">


<script type="text/javascript">
	var BarcodeScanerEvents = function() {
	     this.initialize.apply(this, arguments);
	};

	BarcodeScanerEvents.prototype = {
	    initialize: function() {
	       $(document).on({
	          keyup: $.proxy(this._keyup, this)
	       });
	    },
	    _timeuotHandler: 0,
	    _inputString: '',
	    _keyup: function (e) {
	    if (this._timeuotHandler) {
	        clearTimeout(this._timeuotHandler);
	        this._inputString += String.fromCharCode(e.which);
	    } 

	    this._timeuotHandler = setTimeout($.proxy(function () {
	        if (this._inputString.length <= 3) {
	            this._inputString = '';
	            return;
	        }

	        $(document).trigger('onbarcodescaned', this._inputString);

	        this._inputString = '';

	    }, this), 20);
	}
	};
</script>



</body>
</html>